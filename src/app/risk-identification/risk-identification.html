<div class="risk-identification-container">
  <!-- Header con Logo y T√≠tulo -->
  <div class="risk-header">
    <div class="logo-section">
      <div class="logo-placeholder">Q&K</div>
    </div>
    <div class="title-section">
      <h1 class="main-title">MATRIZ DE RIESGOS Y OPORTUNIDADES DEL PORTAFOLIO DE PROYECTOS DE Q&K</h1>
    </div>
    <div class="actions-section">
      <button class="btn-save" (click)="saveData()">
        <span>üíæ</span> Guardar
      </button>
      <button class="btn-excel" (click)="exportExcel()">
        <span>üìä</span> Excel
      </button>
      <button class="btn-pdf" (click)="exportPDF()">
        <span>üìÑ</span> PDF
      </button>
      <button class="btn-add" (click)="addRisk()">
        <span>‚ûï</span> Agregar
      </button>
    </div>
  </div>

  <!-- Tabla de Riesgos Completa -->
  <div class="risks-table-wrapper">
    <table class="risks-table">
      <thead>
        <tr>
          <!-- Identificaci√≥n y An√°lisis de Riesgos -->
          <th colspan="5" class="section-header section-identificacion">Identificaci√≥n y An√°lisis de Riesgos</th>
          <!-- An√°lisis Cualitativo -->
          <th colspan="2" class="section-header section-cualitativo">An√°lisis Cualitativo</th>
          <!-- Monitoreo de Riesgos -->
          <th colspan="8" class="section-header section-monitoreo">Monitoreo de Riesgos</th>
          <!-- Acciones -->
          <th rowspan="2" class="col-actions">Acciones</th>
        </tr>
        <tr>
          <!-- Identificaci√≥n -->
          <th class="col-id">ID</th>
          <th class="col-tipo">Tipo</th>
          <th class="col-proyecto">ID de Proyecto</th>
          <th class="col-categoria">Categor√≠a</th>
          <th class="col-descripcion">Descripci√≥n del Riesgo</th>
          
          <!-- An√°lisis Cualitativo -->
          <th class="col-impacto">Nivel de Impacto</th>
          <th class="col-oportunidades">Oportunidades</th>
          
          <!-- Monitoreo -->
          <th class="col-evaluacion">Evaluaci√≥n de Riesgo</th>
          <th class="col-estrategia">Estrategia del Riesgo</th>
          <th class="col-responsable">Responsable</th>
          <th class="col-estado">Estado</th>
          <th class="col-fecha">Fecha Inicio</th>
          <th class="col-fecha">Fecha Cierre</th>
          <th class="col-escalado">Escalado</th>
          <th class="col-verificacion">Siguiente verificaci√≥n</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let risk of risks; let i = index" [class.row-even]="i % 2 === 0" [class.row-odd]="i % 2 !== 0">
          <!-- Identificaci√≥n -->
          <td class="cell-id">{{ risk.id }}</td>
          <td><input type="text" [(ngModel)]="risk.tipo" class="input-cell" placeholder="Tipo" /></td>
          <td><input type="text" [(ngModel)]="risk.idProyecto" class="input-cell" placeholder="ID" /></td>
          <td><input type="text" [(ngModel)]="risk.categoria" class="input-cell" placeholder="Categor√≠a" /></td>
          <td><input type="text" [(ngModel)]="risk.descripcion" class="input-cell input-wide" placeholder="Descripci√≥n..." /></td>
          
          <!-- An√°lisis Cualitativo -->
          <td><input type="text" [(ngModel)]="risk.nivelImpacto" class="input-cell" placeholder="Nivel" /></td>
          <td><input type="text" [(ngModel)]="risk.oportunidades" class="input-cell input-wide" placeholder="Oportunidades..." /></td>
          
          <!-- Monitoreo -->
          <td><input type="text" [(ngModel)]="risk.evaluacionRiesgo" class="input-cell" placeholder="Evaluaci√≥n" /></td>
          <td><input type="text" [(ngModel)]="risk.estrategiaRiesgo" class="input-cell input-wide" placeholder="Estrategia..." /></td>
          <td><input type="text" [(ngModel)]="risk.responsable" class="input-cell" placeholder="Responsable" /></td>
          <td><input type="text" [(ngModel)]="risk.estado" class="input-cell" placeholder="Estado" /></td>
          <td><input type="date" [(ngModel)]="risk.fechaInicio" class="input-cell input-date" /></td>
          <td><input type="date" [(ngModel)]="risk.fechaCierre" class="input-cell input-date" /></td>
          <td><input type="text" [(ngModel)]="risk.escalado" class="input-cell" placeholder="Escalado" /></td>
          <td><input type="date" [(ngModel)]="risk.siguienteVerificacion" class="input-cell input-date" /></td>
          
          <!-- Acciones -->
          <td class="cell-actions">
            <button class="btn-delete" (click)="deleteRisk(i)" title="Eliminar fila">üóëÔ∏è</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Footer Info -->
  <div class="footer-info">
    <p>Total de riesgos registrados: <strong>{{ risks.length }}</strong></p>
  </div>
</div>
